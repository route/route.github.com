Opal.queue(function(Opal) {/* Generated by Opal 1.8.2 */
  var $send = Opal.send, $return_val = Opal.return_val, self = Opal.top, $nesting = [], $$ = Opal.$r($nesting), nil = Opal.nil, $$$ = Opal.$$$;

  Opal.add_stubs('require,gemfile,source,gem,app=,proc,open,default_driver=,register_driver,new,describe,let,it,visit,fill_in,email,click_button,first_name,last_name,to,expect,page,have_text');
  
  self.$require("bundler/inline");
  $send(self, 'gemfile', [], function $$1(){var self = $$1.$$s == null ? this : $$1.$$s;

    
    self.$source("https://rubygems.org");
    self.$gem("puma");
    self.$gem("rspec");
    self.$gem("capybara");
    self.$gem("cuprite");
    return self.$gem("ferrum");}, {$$s: self});
  self.$require("rspec/autorun");
  self.$require("capybara/rspec");
  self.$require("capybara/cuprite");
  $$('Capybara')['$app=']($send(self, 'proc', [], function $$2(){
    return [200, (new Map()), $$('File').$open("index.html", "r")]}));
  $$('Capybara')['$default_driver=']("cuprite");
  $send($$('Capybara'), 'register_driver', ["cuprite"], function $$3(app){
    
    if (app == null) app = nil;
    return $$$($$$($$('Capybara'), 'Cuprite'), 'Driver').$new(app);});
  return $send(self, 'describe', ["flaky spec", (new Map([["type", "feature"]]))], function $$4(){var self = $$4.$$s == null ? this : $$4.$$s;

    
    $send(self, 'let', ["email"], $return_val("email@example.com"));
    $send(self, 'let', ["first_name"], $return_val("Firstname"));
    $send(self, 'let', ["last_name"], $return_val("Lastname"));
    return $send(self, 'it', ["submits form successfully"], function $$5(){var self = $$5.$$s == null ? this : $$5.$$s;

      
      self.$visit("/");
      self.$fill_in("email", (new Map([["with", self.$email()]])));
      self.$click_button("Next");
      self.$fill_in("first-name", (new Map([["with", self.$first_name()]])));
      self.$fill_in("last-name", (new Map([["with", self.$last_name()]])));
      self.$click_button("Finish");
      return self.$expect(self.$page()).$to(self.$have_text("Successfully sent"));}, {$$s: self});}, {$$s: self});
});
